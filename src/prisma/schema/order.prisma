model Order {
    id     Int     @id @default(autoincrement())
    userId Int
    total  Decimal @db.Decimal(10, 2)

    user       User @relation(fields: [userId], references: [id])
    orderItems OrderItems[]

    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    deletedAt DateTime?

    @@map("orders")
}

model OrderItems {
    id        Int @id @default(autoincrement())
    orderId   Int
    productId Int
    quantity  Int

    priceAtPurchase Decimal?  @db.Decimal(10, 2)

    order   Order   @relation(fields: [orderId], references: [id])
    product Product @relation(fields: [productId], references: [id])

    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    deletedAt DateTime?

    @@map("order_items")
}